<template>
  <section class="dashboard-wrapper">
    <div class="container">
      <div class="populate-login-details" v-if="loginUserObj">
        <div class="login-details-wrapper display-flex flex-align-center">
          <svg xmlns="http://www.w3.org/2000/svg" id="Capa_1" enable-background="new 0 0 512 512" height="50" viewBox="0 0 512 512" width="50"><g><g><g><path d="m256.025 483.334 101.429-25.614c57.895-48.074 94.771-120.586 94.771-201.719 0-125.144-87.711-229.801-205.012-255.852-137.316 4.631-247.213 117.407-247.213 255.851 0 71.112 29 135.446 75.812 181.836z" fill="#cbe2ff"/></g><g><path d="m446.914 256c0 83.915-40.381 158.391-102.765 205.079l92.031-23.241c46.815-46.39 75.82-110.724 75.82-181.838 0-141.385-114.615-256-256-256-11.024 0-21.886.698-32.543 2.05 126.019 15.988 223.457 123.59 223.457 253.95z" fill="#bed8fb"/></g><g><g><g><path d="m319.621 96.952c0-13.075-10.599-23.674-23.674-23.674h-81.582c-30.091 0-54.485 24.394-54.485 54.485v60.493h192.209v-59.635c0-13.075-10.599-23.674-23.674-23.674h-.798c-4.416 0-7.996-3.579-7.996-7.995z" fill="#365e7d"/><path d="m328.415 104.947h-.798c-4.416 0-7.996-3.58-7.996-7.996 0-13.075-10.599-23.674-23.674-23.674h-8.945v114.978h65.086v-59.635c.001-13.073-10.599-23.673-23.673-23.673z" fill="#2b4d66"/><path d="m425.045 372.355c-6.259-6.182-14.001-10.963-22.79-13.745l-69.891-22.128-76.348-2.683-76.38 2.683-69.891 22.128c-23.644 7.486-39.713 29.428-39.713 54.229v19.094c44.789 47.328 107.451 77.568 177.183 79.92 78.128-17.353 143.129-69.576 177.83-139.498z" fill="#4a80aa"/><path d="m441.968 431.932v-19.094c0-17.536-8.04-33.635-21.105-44.213-37.111 75.626-110.422 130.268-197.346 141.317 10.492 1.329 21.178 2.038 32.026 2.057 10.423-.016 20.708-.62 30.824-1.782 61.031-7.212 115.485-35.894 155.601-78.285z" fill="#407093"/><path d="m261.796 508.168c15.489-30.751 55.822-118.067 44.321-172.609l-50.101-19.499-50.148 19.5c-11.856 56.225 31.37 147.277 45.681 175.29 3.442-.826 6.859-1.721 10.247-2.682z" fill="#e4f6ff"/><path d="m288.197 483.789-20.314-79.917h-23.767l-20.264 79.699 25.058 27.897c6.361-1.457 12.634-3.146 18.81-5.057z" fill="#e28086"/><path d="m249.302 511.905c2.075.054 4.154.091 6.241.095 2.415-.004 4.822-.046 7.222-.113l12.907-14.259c-10.159 3.564-20.61 6.506-31.309 8.779z" fill="#dd636e"/><g><g><g><g><g><g><g><g><path d="m298.774 328.183v-45.066h-85.58v45.066c0 23.632 42.79 49.446 42.79 49.446s42.79-25.814 42.79-49.446z" fill="#ffddce"/></g></g></g></g></g></g></g><path d="m352.089 180.318h-16.359c-9.098 0-16.473-7.375-16.473-16.473v-9.015c0-11.851-11.595-20.23-22.847-16.511-26.243 8.674-54.579 8.676-80.823.006l-.031-.01c-11.252-3.717-22.845 4.662-22.845 16.512v9.019c0 9.098-7.375 16.473-16.473 16.473h-16.358v26.938c0 6.883 5.58 12.464 12.464 12.464 2.172 0 3.939 1.701 4.076 3.869 2.628 41.668 37.235 74.654 79.565 74.654 42.33 0 76.937-32.986 79.565-74.654.137-2.167 1.904-3.869 4.076-3.869 6.883 0 12.464-5.58 12.464-12.464v-26.939z" fill="#ffddce"/><path d="m335.73 180.318c-9.098 0-16.473-7.375-16.473-16.473v-9.015c0-11.851-11.595-20.23-22.847-16.511-3.108 1.027-6.247 1.923-9.407 2.707v88.972c-.438 28.948-16.3 54.142-39.725 67.758 2.861.311 5.763.486 8.706.486 42.33 0 76.937-32.986 79.565-74.654.137-2.167 1.904-3.869 4.076-3.869 6.883 0 12.464-5.58 12.464-12.464v-26.938h-16.359z" fill="#ffcbbe"/></g><g fill="#f4fbff"><path d="m213.194 316.06-33.558 27.267 35.192 43.513c4.281 4.168 11.019 4.424 15.605.594l26.465-22.107z"/><path d="m298.79 316.06-41.892 49.267 24.874 21.268c4.557 3.896 11.327 3.7 15.651-.453l34.94-42.815z"/></g></g><path d="m213.194 316.06-49.256 24.199c-3.75 1.842-5.256 6.404-3.341 10.117l9.65 18.71c2.501 4.848 1.578 10.756-2.282 14.61-1.987 1.983-4.139 4.131-6.004 5.993-3.338 3.332-4.537 8.255-3.067 12.737 11.651 35.517 67.725 89.828 88.946 109.478 1.427.038 2.857.064 4.29.08-15.389-29.933-69.922-143.655-38.936-195.924z" fill="#365e7d"/><path d="m344.019 383.695c-3.861-3.854-4.783-9.762-2.282-14.61l9.65-18.71c1.915-3.713.409-8.275-3.341-10.117l-49.256-24.198c30.978 52.255-23.517 165.929-38.923 195.9 1.448-.025 2.893-.061 4.335-.109 21.265-19.695 77.248-73.94 88.888-109.424 1.47-4.482.271-9.405-3.067-12.737-1.865-1.863-4.017-4.012-6.004-5.995z" fill="#365e7d"/><path d="m256.898 365.327-26.06 21.764 13.278 16.781h23.767l13.279-17.771z" fill="#dd636e"/></g></g></g></g></svg>
          <h3>{{ loginUserObj.name }}</h3>
        </div>
        <div class="login-details-wrapper display-flex flex-align-center">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="Capa_1" enable-background="new 0 0 512 512" height="50" viewBox="0 0 512 512" width="50"><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="23.821" x2="459.531" y1="336.331" y2="84.774"><stop offset="0" stop-color="#dcfdee" stop-opacity="0"/><stop offset=".6288" stop-color="#d2f3e4"/></linearGradient><g><g><path d="m16.074 295.943c18.727 64.003 72.707 194.564 163.922 182.845 91.486-11.755 55.759-129.725 139.508-145.894 36.867-7.118 61.857 56.689 98.806 54.704 47.588-2.557 71.81-49.663 85.108-89.264 28.197-83.968-14.029-226.352-112.859-251.012-86.244-21.519-96.332 83.855-171.322 53.248-42.149-17.203-37.938-68.576-89.272-78.942-155.298-31.359-138.81 189.15-113.891 274.315z" fill="url(#SVGID_1_)"/></g><g><g><g><g><path d="m350.232 493.402h-188.464c-16.569 0-30-13.431-30-30v-380.679c0-16.569 13.431-30 30-30h188.464c16.569 0 30 13.431 30 30v380.678c0 16.569-13.431 30.001-30 30.001z" fill="#2626bc" opacity=".1"/><path d="m350.232 469.402h-188.464c-16.569 0-30-13.431-30-30v-380.679c0-16.569 13.431-30 30-30h188.464c16.569 0 30 13.431 30 30v380.678c0 16.569-13.431 30.001-30 30.001z" fill="#6583fe"/><path d="m131.77 71.632h248.46v354.86h-248.46z" fill="#2d58e0"/><path d="m239.225 201.915h-50.943c-5.523 0-10-4.477-10-10v-47.011c0-5.523 4.477-10 10-10h50.943c5.523 0 10 4.477 10 10v47.011c0 5.523-4.477 10-10 10z" fill="#1f50c9"/><path d="m324.144 201.633h-50.943c-5.523 0-10-4.477-10-10v-47.011c0-5.523 4.477-10 10-10h50.943c5.523 0 10 4.477 10 10v47.011c0 5.523-4.477 10-10 10z" fill="#1f50c9"/><g><path d="m379.948 134.622v67.01h-21.55c-5.52 0-10-4.48-10-10v-47.01c0-5.52 4.48-10 10-10z" fill="#1f50c9"/></g><g><path d="m309.84 93.061h-107.68c-2.761 0-5 2.239-5 5s2.239 5 5 5h107.68c2.761 0 5-2.239 5-5s-2.238-5-5-5z" fill="#fff"/></g><g><g><path d="m239.225 191.403h-50.943c-5.523 0-10-4.477-10-10v-47.011c0-5.523 4.477-10 10-10h50.943c5.523 0 10 4.477 10 10v47.011c0 5.523-4.477 10-10 10z" fill="#ff7eb8"/><g fill="#fff"><path d="m228.594 170.507h-20.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h20.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z"/><path d="m228.594 154.177h-5.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h5.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z"/></g></g><g><path d="m324.144 191.122h-50.943c-5.523 0-10-4.477-10-10v-47.012c0-5.523 4.477-10 10-10h50.943c5.523 0 10 4.477 10 10v47.011c0 5.523-4.477 10.001-10 10.001z" fill="#02ffb3"/><g fill="#fff"><path d="m313.513 170.226h-20.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h20.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z"/><path d="m313.513 153.895h-5.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h5.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z"/></g></g><g><path d="m379.948 124.111v67.01h-21.55c-5.52 0-10-4.48-10-10v-47.01c0-5.52 4.48-10 10-10z" fill="#9fb0fe"/></g></g><path d="m131.77 426.492v-184.74c0-13.8 11.19-25 25-25h198.46c13.81 0 25 11.2 25 25v184.74z" fill="#fff"/><path d="m350.232 474.401h-188.464c-19.299 0-35-15.701-35-35v-380.677c0-19.299 15.701-35 35-35h188.464c19.299 0 35 15.701 35 35v380.678c0 19.298-15.701 34.999-35 34.999zm-188.464-440.677c-13.785 0-25 11.215-25 25v380.678c0 13.785 11.215 25 25 25h188.464c13.785 0 25-11.215 25-25v-380.678c0-13.785-11.215-25-25-25z" fill="#2626bc"/><g><path d="m273.483 56.094h-34.966c-2.761 0-5-2.239-5-5s2.239-5 5-5h34.966c2.761 0 5 2.239 5 5s-2.239 5-5 5z" fill="#b7c5ff"/></g><circle cx="296.813" cy="51.092" fill="#b7c5ff" r="5.002"/></g></g><g><g><path d="m234.594 249.062h-20.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h20.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z" fill="#00d890"/><path d="m336.594 269.335h-122.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h122.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z" fill="#9fb0fe"/></g><path d="m184.926 279.335h-20.272c-2.761 0-5-2.239-5-5v-20.272c0-2.761 2.239-5 5-5h20.272c2.761 0 5 2.239 5 5v20.272c0 2.761-2.239 5-5 5z" fill="#02ffb3"/></g><g><g><path d="m234.594 311.006h-20.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h20.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z" fill="#ff5ba8"/><path d="m336.594 331.278h-122.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h122.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z" fill="#9fb0fe"/></g><path d="m184.926 341.278h-20.272c-2.761 0-5-2.239-5-5v-20.272c0-2.761 2.239-5 5-5h20.272c2.761 0 5 2.239 5 5v20.272c0 2.761-2.239 5-5 5z" fill="#ff7eb8"/></g><g><g><path d="m234.594 372.949h-20.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h20.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z" fill="#6583fe"/><path d="m336.594 393.221h-122.681c-2.761 0-5 2.239-5 5s2.239 5 5 5h122.681c2.761 0 5-2.239 5-5s-2.239-5-5-5z" fill="#9fb0fe"/></g><path d="m184.926 403.221h-20.272c-2.761 0-5-2.239-5-5v-20.272c0-2.761 2.239-5 5-5h20.272c2.761 0 5 2.239 5 5v20.272c0 2.761-2.239 5-5 5z" fill="#9fb0fe"/></g></g><path d="m418.336 397.24c-7.88 0-14.291-6.411-14.291-14.292s6.411-14.292 14.291-14.292 14.291 6.411 14.291 14.292-6.411 14.292-14.291 14.292zm0-18.583c-2.366 0-4.291 1.925-4.291 4.292s1.925 4.292 4.291 4.292 4.291-1.925 4.291-4.292-1.925-4.292-4.291-4.292z" fill="#6583fe"/><path d="m82.919 184.409c-2.761 0-5-2.239-5-5 0-3.309-2.691-6-6-6-2.761 0-5-2.239-5-5s2.239-5 5-5c3.309 0 6-2.691 6-6 0-2.761 2.239-5 5-5s5 2.239 5 5c0 3.309 2.691 6 6 6 2.761 0 5 2.239 5 5s-2.239 5-5 5c-3.309 0-6 2.691-6 6 0 2.761-2.239 5-5 5z" fill="#01eca5"/><path d="m432.652 442.493c-2.762 0-5-2.239-5-5 0-3.309-2.691-6-6-6-2.762 0-5-2.239-5-5s2.238-5 5-5c3.309 0 6-2.691 6-6 0-2.761 2.238-5 5-5s5 2.239 5 5c0 3.309 2.691 6 6 6 2.762 0 5 2.239 5 5s-2.238 5-5 5c-3.309 0-6 2.691-6 6 0 2.761-2.238 5-5 5z" fill="#01eca5"/><g fill="#ff5ba8"><path d="m443.652 150.622c-2.762 0-5-2.239-5-5 0-3.309-2.691-6-6-6-2.762 0-5-2.239-5-5s2.238-5 5-5c3.309 0 6-2.691 6-6 0-2.761 2.238-5 5-5s5 2.239 5 5c0 3.309 2.691 6 6 6 2.762 0 5 2.239 5 5s-2.238 5-5 5c-3.309 0-6 2.691-6 6 0 2.761-2.238 5-5 5z"/><path d="m72.627 233.706c-2.761 0-5-2.239-5-5 0-3.309-2.691-6-6-6-2.761 0-5-2.239-5-5s2.239-5 5-5c3.309 0 6-2.691 6-6 0-2.761 2.239-5 5-5s5 2.239 5 5c0 3.309 2.691 6 6 6 2.761 0 5 2.239 5 5s-2.239 5-5 5c-3.309 0-6 2.691-6 6 0 2.761-2.238 5-5 5z"/></g></g></g></svg>
          <h3>{{ loginUserObj.phoneNumber }}</h3>
        </div>
      </div>
      <div class="no-loans-found section-padding text-center" v-if="!loansArray || (loansArray && loansArray.length === 0)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          height="200px"
          viewBox="-3 0 511 511.99952"
          width="200px"
        >
          <path
            d="m34.25 88.117188 7.628906 13.601562 123.53125-69.488281-7.628906-13.601563zm0 0"
            fill="#954c35"
          />
          <path
            d="m172.273438 18.628906-7.628907 13.601563 129.246094 72.265625 7.628906-13.601563zm0 0"
            fill="#954c35"
          />
          <path
            d="m505.488281 397.707031v17.535157c0 28.242187-12.136719 55.128906-33.324219 73.808593l-.933593.816407c-11.945313 10.527343-27.324219 16.34375-43.25 16.34375h-65.804688c-8.207031 0-16.273437-1.546876-23.792969-4.480469-7.519531-2.933594-14.492187-7.269531-20.535156-12.832031-20.207031-18.632813-31.707031-44.867188-31.707031-72.355469v-19.371094c0-59.503906 30.421875-100.535156 80.640625-132.457031l.96875-.613282v-23.652343l-17.078125-96.234375c-.746094-3.5625 1.976563-6.914063 5.625-6.914063h77.984375c3.636719 0 6.359375 3.34375 5.625 6.90625l-16.890625 96.214844v23.679687l1.136719.710938c50.621094 31.839844 81.335937 73.097656 81.335937 132.894531zm0 0"
            fill="#20b7a1"
          />
          <path
            d="m505.488281 397.707031v17.535157c0 28.242187-12.136719 55.128906-33.324219 73.808593l-.933593.816407c-11.945313 10.527343-27.324219 16.34375-43.25 16.34375h-39.273438c-8.210937 0-16.273437-1.546876-23.792969-4.480469-7.519531-2.933594-14.492187-7.269531-20.535156-12.832031-20.210937-18.632813-31.707031-44.867188-31.707031-72.355469v-19.371094c0-59.503906 30.417969-100.535156 80.636719-132.457031l.972656-.613282v-23.652343l-17.082031-96.234375c-.742188-3.5625 1.980469-6.914063 5.625-6.914063h51.457031c3.636719 0 6.359375 3.34375 5.621094 6.90625l-16.886719 96.214844v23.679687l1.136719.710938c50.621094 31.839844 81.335937 73.097656 81.335937 132.894531zm0 0"
            fill="#24d3b5"
          />
          <path d="m367.75 240.476562h55.269531v23.625h-55.269531zm0 0" fill="#ffde91" />
          <path d="m367.75 240.476562h26.527344v23.625h-26.527344zm0 0" fill="#edc472" />
          <path
            d="m322.1875 476.5c-17.839844 19.429688-41.050781 30.957031-65.273438 34.398438-31.394531 4.472656-64.472656-4.65625-89.652343-27.777344-44.617188-40.945313-47.582031-110.316406-6.621094-154.925782 25.40625-27.683593 61.757813-39.324218 96.34375-34.398437 21.15625 3.015625 41.65625 12.226563 58.582031 27.777344 44.617188 40.949219 47.578125 110.320312 6.621094 154.925781zm0 0"
            fill="#ffde91"
          />
          <path
            d="m322.1875 476.5c-17.839844 19.429688-41.050781 30.957031-65.273438 34.398438-21.15625-3.015626-41.65625-12.226563-58.582031-27.777344-44.617187-40.945313-47.578125-110.316406-6.621093-154.925782 17.839843-19.429687 41.054687-30.957031 65.273437-34.398437 21.15625 3.015625 41.65625 12.226563 58.582031 27.777344 44.617188 40.949219 47.578125 110.320312 6.621094 154.925781zm0 0"
            fill="#ffe89c"
          />
          <path
            d="m318.652344 417.007812c-3.660156 19.375-14.398438 36.550782-30.210938 48.359376-9.625 7.183593-20.375 11.820312-31.425781 14.035156-28.855469 5.789062-59.847656-4.917969-78.578125-30.023438-13.132812-17.597656-18.316406-40.0625-14.234375-61.644531 3.660156-19.386719 14.398437-36.5625 30.210937-48.363281 16.828126-12.554688 37.539063-17.804688 58.320313-14.792969 1.382813.199219 2.765625.4375 4.125.707031 19.078125 3.804688 35.855469 14.367188 47.5625 30.074219 13.128906 17.589844 18.316406 40.066406 14.230469 61.648437zm0 0"
            fill="#dbad5c"
          />
          <path
            d="m318.652344 417.007812c-3.660156 19.375-14.398438 36.550782-30.210938 48.359376-9.625 7.183593-20.375 11.820312-31.425781 14.035156-18.367187-3.679688-35.488281-13.867188-47.539063-30.023438-13.128906-17.597656-18.316406-40.0625-14.230468-61.644531 3.667968-19.386719 14.398437-36.5625 30.21875-48.363281 9.472656-7.058594 20.15625-11.808594 31.394531-14.085938 19.078125 3.804688 35.855469 14.367188 47.5625 30.074219 13.128906 17.589844 18.316406 40.066406 14.230469 61.648437zm0 0"
            fill="#edc472"
          />
          <path
            d="m268.804688 423.359375c0-34.726563-40.972657-24.773437-40.972657-43.964844 0-9.414062 8.363281-11.390625 15.378907-11.390625 6.777343 0 10.46875 1.902344 13.167968 3.292969 1.558594.804687 2.792969 1.4375 4.144532 1.4375 4.023437 0 6.039062-4.671875 6.039062-7.285156 0-5.675781-9.089844-8.515625-17.351562-9.433594v-13.886719c0-4.304687-3.492188-7.796875-7.796876-7.796875-4.304687 0-7.796874 3.492188-7.796874 7.796875v14.539063c-12.285157 2.777343-19.363282 11.210937-19.363282 23.722656 0 31.363281 40.972656 20.5625 40.972656 43.960937 0 12.082032-9.867187 13.882813-15.75 13.882813-9.132812 0-13.253906-4.042969-16.261718-7-1.6875-1.65625-3.144532-3.085937-5.035156-3.085937-3.320313 0-6.167969 4.007812-6.167969 7.289062 0 5.542969 8.238281 13.257812 21.605469 15.183594v11.101562c0 4.308594 3.492187 7.796875 7.796874 7.796875 4.304688 0 7.796876-3.492187 7.796876-7.796875v-11.695312c12.429687-3.027344 19.59375-12.523438 19.59375-26.667969zm0 0"
            fill="#ffe89c"
          />
          <path
            d="m190.929688 476.5c-17.839844 19.429688-41.054688 30.957031-65.273438 34.398438-31.394531 4.472656-64.476562-4.65625-89.652344-27.777344-44.621094-40.945313-47.582031-110.316406-6.621094-154.925782 25.40625-27.683593 61.757813-39.324218 96.34375-34.398437 21.15625 3.015625 41.65625 12.226563 58.582032 27.777344 44.617187 40.949219 47.578125 110.320312 6.621094 154.925781zm0 0"
            fill="#ffe89c"
          />
          <path
            d="m190.929688 476.5c-17.839844 19.429688-41.054688 30.957031-65.273438 34.398438-21.15625-3.015626-41.65625-12.226563-58.582031-27.777344-44.617188-40.945313-47.582031-110.316406-6.621094-154.925782 17.839844-19.429687 41.050781-30.957031 65.273437-34.398437 21.15625 3.015625 41.65625 12.226563 58.582032 27.777344 44.617187 40.949219 47.578125 110.320312 6.621094 154.925781zm0 0"
            fill="#fcf2b6"
          />
          <path
            d="m187.394531 417.007812c-3.660156 19.375-14.398437 36.550782-30.210937 48.359376-9.625 7.183593-20.375 11.820312-31.425782 14.035156-28.855468 5.789062-59.847656-4.917969-78.578124-30.023438-13.132813-17.597656-18.316407-40.0625-14.234376-61.644531 3.660157-19.386719 14.398438-36.5625 30.210938-48.363281 16.828125-12.554688 37.539062-17.804688 58.320312-14.792969 1.382813.199219 2.765626.4375 4.125.707031 19.078126 3.804688 35.855469 14.367188 47.5625 30.074219 13.128907 17.589844 18.316407 40.066406 14.230469 61.648437zm0 0"
            fill="#dbad5c"
          />
          <path
            d="m187.394531 417.007812c-3.660156 19.375-14.398437 36.550782-30.210937 48.359376-9.625 7.183593-20.375 11.820312-31.425782 14.035156-18.367187-3.679688-35.488281-13.867188-47.539062-30.023438-13.128906-17.597656-18.316406-40.0625-14.230469-61.644531 3.667969-19.386719 14.398438-36.5625 30.21875-48.363281 9.46875-7.058594 20.15625-11.808594 31.394531-14.085938 19.074219 3.804688 35.855469 14.367188 47.5625 30.074219 13.128907 17.589844 18.316407 40.066406 14.230469 61.648437zm0 0"
            fill="#edc472"
          />
          <path
            d="m137.546875 423.359375c0-34.726563-40.972656-24.773437-40.972656-43.964844 0-9.414062 8.363281-11.390625 15.378906-11.390625 6.777344 0 10.46875 1.902344 13.167969 3.292969 1.558594.804687 2.792968 1.4375 4.140625 1.4375 4.023437 0 6.042969-4.671875 6.042969-7.285156 0-5.675781-9.089844-8.515625-17.351563-9.433594v-13.886719c0-4.304687-3.492187-7.796875-7.796875-7.796875-4.308594 0-7.796875 3.492188-7.796875 7.796875v14.539063c-12.285156 2.777343-19.363281 11.210937-19.363281 23.722656 0 31.363281 40.972656 20.5625 40.972656 43.960937 0 12.082032-9.867188 13.882813-15.75 13.882813-9.132812 0-13.253906-4.042969-16.261719-7-1.6875-1.65625-3.144531-3.085937-5.035156-3.085937-3.324219 0-6.167969 4.007812-6.167969 7.289062 0 5.542969 8.234375 13.257812 21.605469 15.183594v11.101562c0 4.308594 3.488281 7.796875 7.796875 7.796875 4.304688 0 7.792969-3.492187 7.792969-7.796875v-11.695312c12.433593-3.027344 19.597656-12.523438 19.597656-26.667969zm0 0"
            fill="#ffe89c"
          />
          <path
            d="m326.175781 93.578125v155.191406c0 7.757813-6.277343 14.035157-14.035156 14.035157h-293.464844c-7.746093 0-14.035156-6.277344-14.035156-14.035157v-155.191406c0-7.742187 6.289063-14.035156 14.035156-14.035156h293.464844c7.757813 0 14.035156 6.292969 14.035156 14.035156zm0 0"
            fill="#c0694e"
          />
          <path
            d="m326.175781 93.578125v131.976563h-279.097656c-7.746094 0-14.035156-6.28125-14.035156-14.035157v-131.976562h279.097656c7.757813 0 14.035156 6.292969 14.035156 14.035156zm0 0"
            fill="#c97e67"
          />
          <g fill="#ffde91">
            <path
              d="m80.152344 196.359375h-30.6875v-72.5625c0-5.25-9.066406-6.097656-13.832032-3.835937-1.675781.800781-2.515624 2.078124-2.515624 3.835937v81.742187c0 1.675782.734374 2.953126 2.203124 3.832032 2.9375 1.765625 1.125 1.324218 44.828126 1.324218 6.421874 0 6.664062-14.335937.003906-14.335937zm0 0"
            />
            <path
              d="m141.898438 125.304688c-12.558594-10.585938-50.429688-12.054688-50.429688 22.257812 0 37.261719-.664062 41.40625 2.265625 48.480469 2.902344 7.007812 8.097656 11.648437 15.527344 13.832031 10.542969 3.097656 31.875 3.191406 38.921875-13.832031 2.917968-7.050781 2.265625-11.121094 2.265625-48.480469 0-8.484375-2.035157-16.753906-8.550781-22.257812zm-7.796876 57.347656c0 5.03125-1.175781 8.699218-3.523437 11.003906-4.78125 4.699219-14.839844 4.613281-19.363281 0-2.265625-2.304688-3.398438-5.972656-3.398438-11.003906 0-37.414063-.996094-41.613282 3.398438-46.089844 4.5-4.585938 14.539062-4.738281 19.363281 0 4.558594 4.480469 3.523437 8.695312 3.523437 46.089844zm0 0"
            />
            <path
              d="m182.511719 123.546875c-26.390625 86.011719-25.570313 80.5625-23.515625 83.121094 3.382812 4.238281 13.308594 6.101562 14.839844.757812l4.777343-16.726562h28.800781c5.164063 18.085937 4.796876 18.234375 6.726563 19.242187 3.261719 1.699219 9.667969.484375 12.890625-3.332031 2.0625-2.449219 3.050781 3.527344-23.515625-83.0625-2.28125-7.480469-18.769531-7.355469-21.003906 0zm-.5 54.324219 10.9375-38.605469 10.941406 38.605469zm0 0"
            />
            <path
              d="m281.355469 123.796875v50.554687c-28.503907-55.09375-26.589844-55.585937-36.46875-55.585937-3.105469 0-8.171875 1.0625-8.171875 5.15625v81.617187c0 6.820313 16.347656 6.863282 16.347656 0v-50.554687c29.214844 54.625 27.582031 52.941406 31.125 54.578125 3.226562 1.488281 7.4375 1.601562 10.941406-.191406 1.714844-.878906 2.578125-2.15625 2.578125-3.832032v-81.742187c0-6.671875-16.351562-6.804687-16.351562 0zm0 0"
            />
          </g>
          <path
            d="m184.125 18.714844c0 10.335937-8.378906 18.714844-18.714844 18.714844-10.335937 0-18.710937-8.378907-18.710937-18.714844 0-10.335938 8.375-18.714844 18.710937-18.714844 10.335938 0 18.714844 8.378906 18.714844 18.714844zm0 0"
            fill="#edc472"
          />
        </svg>
        <div class="no-loans-found--meta">
          <h2>No Active Loans</h2>
          <h3>Your Personal Loan is just a click away!</h3>
          <button class="theme-button cursor-pointer" @click="showCreateLoanPopup = true">Apply Now</button>
        </div>
      </div>
      <div class="loans-listing-wrapper" v-if="loansArray && loansArray.length >= 1">
        <h2 class="text-center">View Loans </h2>
        <div class="table-responsive">
          <table>
            <thead>
              <tr>
                <td>No.</td>
                <td>Loan Amount</td>
                <td>Tenure</td>
              </tr>
            </thead>
            <tbody>
              <tr v-for="(eachObj, index) in loansArray" :key="`loans${index}`">
                <td>
                  {{ index + 1 }}
                </td>
                <td>
                  &#8377; {{ eachObj.loanAmount }}  /-
                </td>
                <td>
                  {{ eachObj.tenure }} Weeks
                </td>
                <td class="text-center">
                  <button class="theme-button secondary cursor-pointer" @click="payNow(eachObj)">Pay Now</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="loans-listing-wrapper--cta text-center">
          <button class="theme-button cursor-pointer" v-if="loginUserObj" @click="fetchAllCustomerLoans(loginUserObj)">Check Again</button>
          <button class="theme-button cursor-pointer" @click="showCreateLoanPopup = true">Apply More</button>
        </div>
      </div>
      <transition name="slide-fade">
        <template v-if="showCreateLoanPopup">
          <create-loan :userobj="loginUserObj" @closeCreateLoanPopup="closeCreateLoanPopup" />
        </template>
      </transition>
    </div>
  </section>
</template>

<script>
import '@/assets/scss/pages/dashboard.scss';
import createLoan from '@/components/create-loan/index.vue';
import { checkUserSession } from '@/services/login-register.api';
import { getCustomerUnpaidLoans, clearCustomerLoans } from '@/services/loans.api';

export default {
  name: 'Dashboard',
  data() {
    return {
      // variable to store the loginned user details
      loginUserObj: null,
      // flag to show/hide the apply loan section
      showCreateLoanPopup: false,
      // array to store the loans
      loansArray: null,
    };
  },
  components: {
    createLoan,
  },
  methods: {
    // method to validate the user session and save the active session details
    async validateUserSession() {
      const response = await checkUserSession();
      if (response.statusCode === 200) {
        this.loginUserObj = response.userData;
        this.fetchAllCustomerLoans(response.userData);
      } else {
        this.$router.push('/');
      }
    },
    // method to close Create Loan popup
    closeCreateLoanPopup(value) {
      if (value) {
        this.showCreateLoanPopup = false;
        // fetch the active loans
        this.fetchAllCustomerLoans(this.loginUserObj);
      }
    },
    // method to fetch all the customer loans (approved by admin)
    async fetchAllCustomerLoans(requestBodyObj) {
      const response = await getCustomerUnpaidLoans(requestBodyObj);
      if (response.statusCode === 200) {
        this.loansArray = response.loans;
      }
    },
    // method to Pay for a loan
    async payNow(loanObj) {
      const response = await clearCustomerLoans(loanObj);
      if (response.statusCode === 200) {
        this.$swal.fire(
          'Success',
          response.statusMessage,
          'success',
        );
        // fetch the active loans
        this.fetchAllCustomerLoans(this.loginUserObj);
      }
    },
  },
  mounted() {
    this.validateUserSession();
  },
};
</script>
